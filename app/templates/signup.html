<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DePaul BlueVox â€” Create Account</title>
    
    <!-- UI font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Marck+Script&display=swap"
      rel="stylesheet"
    />
    
    
    <link rel="stylesheet" href="/static/styles.css">
    <style>
      :root {
        /* page */
        --page-text: rgba(255, 255, 255, 0.9);
        --muted: rgba(255, 255, 255, 0.7);

        /* lines + glow */
        --line: rgba(255, 255, 255, 0.35);
        --accent: rgba(120, 190, 255, 0.75);
        --accent-soft: rgba(90, 160, 255, 0.22);

        /* fields */
        --field-bg: rgba(2, 10, 28, 0.38);
        --field-border: rgba(120, 175, 255, 0.55);
        --field-border-focus: rgba(150, 210, 255, 0.85);

        /* button */
        --btn-top: rgba(70, 150, 255, 0.92);
        --btn-bot: rgba(35, 105, 245, 0.88);
        --btn-border: rgba(170, 220, 255, 0.5);
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
      }

      body.bluevox-signup {
        margin: 0;
        padding: 0 !important;
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        color: var(--page-text);
        overflow-x: hidden;
        overflow-y: auto;
        height: 100vh;
      }

      /* ===== Background ===== */
      body.bluevox-signup .bg {
        min-height: 100vh;
        height: auto;
        display: grid;
        place-items: center;
        padding: 20px 0;
        position: relative;
        isolation: isolate;
        overflow: hidden;

        background:
          radial-gradient(1100px 760px at 88% 55%, rgba(40, 165, 255, 0.34), rgba(0, 0, 0, 0) 62%),
          radial-gradient(900px 650px at 92% 60%, rgba(20, 120, 255, 0.20), rgba(0, 0, 0, 0) 62%),
          linear-gradient(90deg, #02040b, #031531 55%, #062f67);
      }

      /* Optional "extra stars" layer */
      body.bluevox-signup .bg::before {
        content: "";
        position: absolute;
        inset: 0;
        background-image:
          radial-gradient(1px 1px at 12% 18%, rgba(255, 255, 255, 0.75) 50%, transparent 52%),
          radial-gradient(1px 1px at 18% 62%, rgba(255, 255, 255, 0.6) 50%, transparent 52%),
          radial-gradient(1px 1px at 28% 78%, rgba(255, 255, 255, 0.55) 50%, transparent 52%),
          radial-gradient(1px 1px at 33% 35%, rgba(255, 255, 255, 0.55) 50%, transparent 52%),
          radial-gradient(1px 1px at 46% 22%, rgba(255, 255, 255, 0.5) 50%, transparent 52%),
          radial-gradient(1px 1px at 52% 66%, rgba(255, 255, 255, 0.6) 50%, transparent 52%),
          radial-gradient(1px 1px at 63% 44%, rgba(255, 255, 255, 0.6) 50%, transparent 52%),
          radial-gradient(1px 1px at 71% 77%, rgba(255, 255, 255, 0.55) 50%, transparent 52%),
          radial-gradient(1px 1px at 79% 16%, rgba(255, 255, 255, 0.6) 50%, transparent 52%),
          radial-gradient(1px 1px at 86% 58%, rgba(255, 255, 255, 0.7) 50%, transparent 52%),
          radial-gradient(1px 1px at 92% 32%, rgba(255, 255, 255, 0.55) 50%, transparent 52%),
          radial-gradient(1px 1px at 6% 82%, rgba(255, 255, 255, 0.5) 50%, transparent 52%);
        opacity: 0.55;
        pointer-events: none;
        z-index: -1;
      }

      /* ===== Layout wrapper ===== */
      body.bluevox-signup .wrap {
        width: min(1040px, 100%);
        text-align: center;
      }

      /* ===== Brand block ===== */
      body.bluevox-signup .brand {
        display: grid;
        place-items: center;
        gap: 8px;
        margin-bottom: 10px;
      }

      body.bluevox-signup .brandRow {
        display: inline-flex;
        align-items: center;
        gap: 12px;
      }

      /* Exact DePaul logo image */
      body.bluevox-signup .depaulLogo {
        height: 73px;
        width: auto;
        image-rendering: auto;
        filter: drop-shadow(0 0 14px rgba(0, 0, 0, 0.35));
      }

      body.bluevox-signup .divider {
        width: 1px;
        height: 54px;
        background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.65), transparent);
        opacity: 0.85;
      }

      /* BlueVox look */
      body.bluevox-signup .bluevox {
        font-family: "Marck Script", cursive;
        font-size: 70px;
        line-height: 0.92;
        letter-spacing: 0px;
        color: rgba(205, 232, 255, 0.96);
        text-shadow:
          0 0 10px rgba(90, 170, 255, 0.22),
          0 0 22px rgba(30, 120, 255, 0.12);
        transform: translateY(2px);
        user-select: none;
      }

      body.bluevox-signup .brandLine {
        width: 376px;
        max-width: 92%;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.55), transparent);
        opacity: 0.6;
        margin-top: 2px;
      }

      body.bluevox-signup .shield {
        width: 94px;
        height: auto;
        opacity: 0.95;
        margin-top: 2px;
        filter: drop-shadow(0 0 10px rgba(90, 170, 255, 0.16));
      }

      /* ===== Tagline ===== */
      body.bluevox-signup .tagline {
        margin: 15px 0 10px;
        font-size: 22px;
        font-weight: 400;
        color: rgba(255, 255, 255, 0.82);
        text-shadow: 0 0 14px rgba(0, 0, 0, 0.22);
      }

      /* ===== Form ===== */
      body.bluevox-signup .form {
        width: 563px;
        max-width: 100%;
        margin: 0 auto;
        text-align: left;
        display: grid;
        gap: 13px;
      }

      body.bluevox-signup label {
        display: block;
        font-size: 16px;
        font-weight: 400;
        color: rgba(255, 255, 255, 0.78);
        margin-bottom: 6px;
      }

      body.bluevox-signup .field {
        width: 100%;
        height: 33px;
        border-radius: 2px;
        border: 2px solid var(--field-border);
        background: var(--field-bg);
        color: rgba(255, 255, 255, 0.9);
        padding: 8px 10px;
        font-size: 13px;
        outline: none;
        box-shadow:
          0 0 0 1px rgba(0, 0, 0, 0.25) inset,
          0 0 18px rgba(30, 110, 255, 0.10);
        transition: border-color 160ms ease, box-shadow 160ms ease;
      }

      body.bluevox-signup .field:focus {
        border-color: var(--field-border-focus);
        box-shadow:
          0 0 0 1px rgba(0, 0, 0, 0.2) inset,
          0 0 22px rgba(70, 170, 255, 0.18);
      }

      body.bluevox-signup select.field {
        height: 37px;
        cursor: pointer;
      }

      body.bluevox-signup .btnRow {
        margin-top: 8px;
      }

      body.bluevox-signup .btn {
        width: 187px;
        height: 48px;
        border-radius: 8px;
        border: 1px solid var(--btn-border);
        background: linear-gradient(180deg, var(--btn-top), var(--btn-bot));
        color: rgba(255, 255, 255, 0.92);
        font-size: 22px;
        font-weight: 500;
        cursor: pointer;
        box-shadow:
          0 12px 28px rgba(0, 0, 0, 0.38),
          0 0 0 1px rgba(0, 0, 0, 0.18) inset,
          0 0 18px rgba(70, 160, 255, 0.16);
        transition: transform 150ms ease, filter 150ms ease, box-shadow 150ms ease;
      }

      body.bluevox-signup .btn:hover {
        transform: translateY(-1px);
        filter: brightness(1.05);
        box-shadow:
          0 16px 34px rgba(0, 0, 0, 0.42),
          0 0 0 1px rgba(0, 0, 0, 0.18) inset,
          0 0 22px rgba(70, 160, 255, 0.2);
      }

      body.bluevox-signup .btn:active {
        transform: translateY(0px);
        filter: brightness(0.98);
      }

      /* ===== Footer links ===== */
      body.bluevox-signup .footer {
        margin-top: 30px;
        text-align: center;
        color: rgba(255, 255, 255, 0.62);
      }

      body.bluevox-signup .footer a {
        color: rgba(170, 220, 255, 0.78);
        text-decoration: underline;
        text-underline-offset: 3px;
      }

      body.bluevox-signup .footer a:hover {
        color: rgba(220, 245, 255, 0.95);
      }

      /* Error and Success Messages */
      body.bluevox-signup .error-message-bluevox {
        background: rgba(220, 38, 38, 0.2);
        border: 1px solid rgba(220, 38, 38, 0.5);
        color: #fca5a5;
        padding: 10px 14px;
        border-radius: 8px;
        margin-bottom: 15px;
        text-align: center;
        font-size: 12px;
      }

      body.bluevox-signup .success-message-bluevox {
        background: rgba(34, 197, 94, 0.2);
        border: 1px solid rgba(34, 197, 94, 0.5);
        color: #86efac;
        padding: 10px 14px;
        border-radius: 8px;
        margin-bottom: 15px;
        text-align: center;
        font-size: 12px;
      }

      /* ===== Responsive ===== */
      @media (max-width: 820px) {
        body.bluevox-signup .depaulLogo {
          height: 61px;
        }
        body.bluevox-signup .divider {
          height: 46px;
        }
        body.bluevox-signup .bluevox {
          font-size: 60px;
        }
        body.bluevox-signup .shield {
          width: 80px;
        }
        body.bluevox-signup .tagline {
          font-size: 19px;
        }
        body.bluevox-signup .form {
          width: 100%;
        }
      }

      @media (max-width: 520px) {
        body.bluevox-signup .brandRow {
          gap: 7px;
        }
        body.bluevox-signup .depaulLogo {
          height: 49px;
        }
        body.bluevox-signup .divider {
          height: 37px;
          opacity: 0.65;
        }
        body.bluevox-signup .bluevox {
          font-size: 49px;
        }
        body.bluevox-signup .shield {
          width: 64px;
        }
        body.bluevox-signup .btn {
          width: 100%;
        }
      }
    </style>
</head>

<body class="bluevox-signup">
    <main class="bg">
        <section class="wrap" aria-label="Create Account">
            <!-- Brand header -->
            <header class="brand">
                <div class="brandRow" aria-label="Brand">
                    <!-- Exact DePaul logo image -->
                    <img class="depaulLogo" src="/static/assets/depaul-logo.png" alt="DePaul University" />

                    <div class="divider" aria-hidden="true"></div>

                    <div class="bluevox">BlueVox</div>
                </div>

                <div class="brandLine" aria-hidden="true"></div>

                <!-- Exact DePaul shield image -->
                <img class="shield" src="/static/assets/depaul-shield.png" alt="DePaul shield" />
            </header>

            <div class="tagline">DePaul University's AI exam platform.</div>
            <div class="login-type" style="margin-top: 8px; font-size: 18px; font-weight: 500; color: rgba(170, 220, 255, 0.9); text-shadow: 0 0 10px rgba(0, 0, 0, 0.2);">Create Account</div>

            {% if error %}
            <div class="error-message-bluevox">
                {% if error == "email_exists" %}
                    An account with this email already exists. Please use a different email or <a href="/" style="color: #fca5a5; text-decoration: underline;">log in</a>.
                {% else %}
                    {{ error }}
                {% endif %}
            </div>
            {% endif %}

            <!-- Signup form -->
            <form class="form" method="post" action="/api/signup" autocomplete="on">
                <div>
                    <label for="email">Email:</label>
                    <input class="field" id="email" name="email" type="email" autocomplete="username" required autofocus />
                </div>

                <div>
                    <label for="password">Password:</label>
                    <input
                        class="field"
                        id="password"
                        name="password"
                        type="password"
                        autocomplete="new-password"
                        required
                    />
                </div>

                <div>
                    <label for="first_name">First Name:</label>
                    <input class="field" id="first_name" name="first_name" type="text" autocomplete="given-name" required />
                </div>

                <div>
                    <label for="last_name">Last Name:</label>
                    <input class="field" id="last_name" name="last_name" type="text" autocomplete="family-name" required />
                </div>

                <div>
                    <label for="role">Account Type:</label>
                    <select class="field" id="role" name="role" required onchange="toggleIdField()">
                        <option value="student" selected>Student</option>
                        <option value="teacher">Teacher</option>
                    </select>
                </div>

                <div id="student-id-group">
                    <label for="student_id">Student ID:</label>
                    <input class="field" id="student_id" name="student_id" type="text" required />
                </div>

                <div id="instructor-id-group" style="display: none;">
                    <label for="instructor_id">Instructor ID:</label>
                    <input class="field" id="instructor_id" name="instructor_id" type="text" />
                </div>

                <div class="btnRow">
                    <button class="btn" type="submit">Create Account</button>
                </div>
            </form>

            <footer class="footer">
                <div>Already have an account? <a href="/">Log in here</a></div>
            </footer>
        </section>
    </main>

    <script>
        function toggleIdField() {
            const role = document.getElementById('role').value;
            const studentIdGroup = document.getElementById('student-id-group');
            const instructorIdGroup = document.getElementById('instructor-id-group');
            const studentIdInput = document.getElementById('student_id');
            const instructorIdInput = document.getElementById('instructor_id');
            
            if (role === 'student') {
                studentIdGroup.style.display = 'block';
                instructorIdGroup.style.display = 'none';
                studentIdInput.required = true;
                instructorIdInput.required = false;
                instructorIdInput.value = '';
            } else {
                studentIdGroup.style.display = 'none';
                instructorIdGroup.style.display = 'block';
                studentIdInput.required = false;
                instructorIdInput.required = true;
                studentIdInput.value = '';
            }
        }
        
        // Initialize on page load
        window.addEventListener('DOMContentLoaded', toggleIdField);
    </script>
</body>
</html>
